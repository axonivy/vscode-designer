{
  "name": "ivy-extension",
  "private": true,
  "version": "11.2.0",
  "description": "This extensions provides a state of the art process modelling tool that enables you to turn your business processes into real and fully functional web applications.",
  "publisher": "AxonIvy",
  "author": "Axon Ivy AG",
  "homepage": "https://developer.axonivy.com/",
  "repository": {
    "url": "https://github.com/axonivy/vscode-extensions"
  },
  "icon": "assets/ivy-logo.png",
  "displayName": "Axon Ivy Designer",
  "engines": {
    "yarn": ">=1.7.0 <2.x.x",
    "node": ">=18.17.1",
    "vscode": "^1.54.0"
  },
  "scripts": {
    "build": "lerna run build && yarn build:node",
    "build:node": "webpack --mode=development",
    "build:production": "lerna run build:production && webpack --mode=production",
    "download:engine": "ts-node scripts/download-engine.ts",
    "clean": "yarn clean:node && rimraf webviews/dist",
    "clean:node": "rimraf lib dist",
    "lint": "lerna run lint -- & eslint --ext .ts,.tsx ./src",
    "package": "vsce package --yarn",
    "prepare": "yarn clean && yarn build",
    "test:playwright": "yarn -s --cwd playwright ui-tests",
    "test:playwright:download:vscode": "yarn -s --cwd playwright download:vscode",
    "update:axonivy:next": "npx --yes npm-check-updates @axonivy* -ws -t patch -u",
    "watch": "webpack --watch --mode development"
  },
  "main": "./dist/extension.js",
  "dependencies": {
    "@eclipse-glsp/vscode-integration": "1.1.0-RC10",
    "axios": "^1.6.2",
    "fast-xml-parser": "^4.3.2"
  },
  "devDependencies": {
    "@types/node": "^18.11.9",
    "@types/vscode": "^1.54.0",
    "@types/vscode-webview": "^1.54.0",
    "adm-zip": "^0.5.10",
    "eslint": "^8.49.0",
    "eslint-config-react-app": "^7.0.1",
    "lerna": "^6.1.0",
    "path": "^0.12.7",
    "reflect-metadata": "^0.1.13",
    "rimraf": "^3.0.2",
    "ts-loader": "^9.4.2",
    "typescript": "~5.2.2",
    "vsce": "1.79.5",
    "vscode-config-editor-webview": "11.2.0",
    "vscode-process-editor-webview": "11.2.0",
    "webpack": "^5.75.0",
    "webpack-cli": "^5.0.1"
  },
  "workspaces": [
    "webviews/*",
    "playwright/"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "contributes": {
    "customEditors": [
      {
        "viewType": "yaml-variables-editor",
        "displayName": "Variables Editor",
        "selector": [
          {
            "filenamePattern": "variables.yaml"
          }
        ]
      },
      {
        "viewType": "ivy.glspDiagram",
        "displayName": "Axon Ivy Process Editor",
        "selector": [
          {
            "filenamePattern": "*.p.json"
          }
        ]
      }
    ],
    "commands": [
      {
        "command": "yaml-variables-editor.new",
        "title": "Create a new Variables file",
        "category": "Ivy Variables Editor",
        "icon": "$(add)"
      },
      {
        "command": "engine.openDevWfUi",
        "title": "Open Developer Workflow UI",
        "category": "Ivy Engine"
      },
      {
        "command": "engine.openEngineCockpit",
        "title": "Open Engine Cockpit",
        "category": "Ivy Engine"
      },
      {
        "command": "engine.ivyBrowserOpen",
        "title": "Open Ivy Browser",
        "category": "Ivy Engine"
      },
      {
        "command": "workflow.fit",
        "title": "Fit to Screen",
        "category": "Ivy Process Editor",
        "enablement": "activeCustomEditorId == 'ivy.glspDiagram'"
      },
      {
        "command": "workflow.center",
        "title": "Center selection",
        "category": "Ivy Process Editor",
        "enablement": "activeCustomEditorId == 'ivy.glspDiagram'"
      },
      {
        "command": "workflow.layout",
        "title": "Layout diagram",
        "category": "Ivy Process Editor",
        "enablement": "activeCustomEditorId == 'ivy.glspDiagram'"
      },
      {
        "command": "workflow.exportAsSVG",
        "title": "Export as SVG",
        "category": "Ivy Process Editor",
        "enablement": "activeCustomEditorId == 'ivy.glspDiagram'"
      },
      {
        "command": "ivyProjects.refreshEntry",
        "title": "Refresh",
        "category": "Ivy Project Explorer",
        "icon": "$(refresh)"
      },
      {
        "command": "ivyProjects.buildAll",
        "title": "Build All",
        "category": "Ivy Project Explorer",
        "icon": "$(tools)"
      },
      {
        "command": "ivyProjects.deployAll",
        "title": "Deploy All",
        "category": "Ivy Project Explorer",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "ivyProjects.buildProject",
        "title": "Build Project",
        "category": "Ivy Project Explorer",
        "icon": "$(tools)"
      },
      {
        "command": "ivyProjects.deployProject",
        "title": "Deploy Project",
        "category": "Ivy Project Explorer",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "ivyProjects.buildAndDeployProject",
        "title": "Build and Deploy Project",
        "category": "Ivy Project Explorer"
      },
      {
        "command": "ivyProjects.buildAndDeployAll",
        "title": "Build and Deploy All",
        "category": "Ivy Project Explorer"
      },
      {
        "command": "ivyProjects.addBusinessProcess",
        "title": "Business Process",
        "category": "Ivy Project Explorer"
      },
      {
        "command": "ivyProjects.addCallableSubProcess",
        "title": "Callable Sub Process",
        "category": "Ivy Project Explorer"
      },
      {
        "command": "ivyProjects.addWebServiceProcess",
        "title": "Web Service Process",
        "category": "Ivy Project Explorer"
      },
      {
        "command": "ivyProjects.addNewProject",
        "title": "Project",
        "category": "Ivy Project Explorer",
        "icon": "$(add)"
      }
    ],
    "configuration": {
      "title": "Axon Ivy Engine",
      "properties": {
        "runEmbeddedEngine": {
          "type": "boolean",
          "default": true,
          "description": "Start embedded Axon Ivy Engine. If set false you have to define host & port where your Engine runs.",
          "order": 0
        },
        "engineUrl": {
          "type": "string",
          "default": "http://localhost:8080/",
          "description": "Url of the Axon Ivy Engine that will be used.",
          "order": 1
        }
      }
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "ivy-activitybar",
          "title": "Axon Ivy",
          "icon": "assets/ivy-logo.svg"
        }
      ],
      "panel": [
        {
          "id": "ivy-browser-container",
          "title": "Browser",
          "icon": "$(globe)",
          "when": "ivy:hasIvyProjects"
        }
      ]
    },
    "views": {
      "ivy-browser-container": [
        {
          "type": "webview",
          "id": "ivyBrowserView",
          "name": "Browser",
          "when": "ivy:hasIvyProjects"
        }
      ],
      "ivy-activitybar": [
        {
          "id": "ivyProjects",
          "name": "Axon Ivy Projects"
        },
        {
          "id": "ivyProcessOutline",
          "name": "Process Outline",
          "when": "ivy:hasIvyProjects"
        }
      ]
    },
    "submenus": [
      {
        "id": "workflow.editor.title",
        "label": "Diagram"
      },
      {
        "id": "ivyProjects.new",
        "label": "New"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "submenu": "workflow.editor.title",
          "group": "bookmarks"
        }
      ],
      "workflow.editor.title": [
        {
          "command": "workflow.fit",
          "group": "navigation",
          "when": "activeCustomEditorId == 'ivy.glspDiagram'"
        },
        {
          "command": "workflow.center",
          "group": "navigation",
          "when": "activeCustomEditorId == 'ivy.glspDiagram'"
        },
        {
          "command": "workflow.layout",
          "group": "navigation",
          "when": "activeCustomEditorId == 'ivy.glspDiagram'"
        },
        {
          "command": "workflow.exportAsSVG",
          "when": "activeCustomEditorId == 'ivy.glspDiagram'"
        }
      ],
      "view/title": [
        {
          "command": "ivyProjects.refreshEntry",
          "when": "view == ivyProjects",
          "group": "navigation@3"
        },
        {
          "command": "ivyProjects.buildAll",
          "when": "view == ivyProjects"
        },
        {
          "command": "ivyProjects.deployAll",
          "when": "view == ivyProjects",
          "group": "navigation@2"
        },
        {
          "command": "ivyProjects.buildAndDeployAll",
          "when": "view == ivyProjects"
        },
        {
          "command": "ivyProjects.addNewProject",
          "when": "view == ivyProjects",
          "group": "navigation@1"
        }
      ],
      "view/item/context": [
        {
          "command": "ivyProjects.buildProject",
          "when": "view == ivyProjects && viewItem == ivyProject",
          "group": "inline"
        },
        {
          "command": "ivyProjects.deployProject",
          "when": "view == ivyProjects && viewItem == ivyProject",
          "group": "inline"
        },
        {
          "command": "ivyProjects.buildAndDeployProject",
          "when": "view == ivyProjects && viewItem == ivyProject"
        },
        {
          "submenu": "ivyProjects.new",
          "when": "view == ivyProjects",
          "group": "ivyProjects@1"
        }
      ],
      "ivyProjects.new": [
        {
          "command": "ivyProjects.addBusinessProcess",
          "group": "1_new@1"
        },
        {
          "command": "ivyProjects.addCallableSubProcess",
          "group": "1_new@2"
        },
        {
          "command": "ivyProjects.addWebServiceProcess",
          "group": "1_new@2"
        },
        {
          "command": "ivyProjects.addNewProject",
          "group": "2_new@1"
        }
      ]
    },
    "keybindings": [
      {
        "key": "alt+f",
        "mac": "alt+f",
        "command": "workflow.fit",
        "when": "activeCustomEditorId == 'ivy.glspDiagram'"
      },
      {
        "key": "alt+c",
        "mac": "alt+c",
        "command": "workflow.center",
        "when": "activeCustomEditorId == 'ivy.glspDiagram'"
      },
      {
        "key": "ctrl+a",
        "mac": "ctrl+a",
        "command": "workflow.selectAll",
        "when": "activeCustomEditorId == 'ivy.glspDiagram'"
      },
      {
        "key": "alt+l",
        "mac": "alt+l",
        "command": "workflow.layout",
        "when": "activeCustomEditorId == 'ivy.glspDiagram'"
      }
    ],
    "languages": [
      {
        "id": "ivy-process",
        "icon": {
          "light": "./assets/light/diagram-project-solid.svg",
          "dark": "./assets/dark/diagram-project-solid.svg"
        },
        "extensions": [
          ".p.json"
        ]
      }
    ],
    "viewsWelcome": [
      {
        "view": "ivyProjects",
        "contents": "You have not yet opened a folder.\n[Open Folder](command:vscode.openFolder)",
        "when": "workbenchState == empty"
      },
      {
        "view": "ivyProjects",
        "contents": "You have not yet added a project.\n[Add Project](command:ivyProjects.addNewProject)",
        "when": "workbenchState != empty"
      }
    ]
  }
}
